/**handles:html5-player**/
document.addEventListener("DOMContentLoaded",function(){!function(a){window.ssp_player=[];var s=[];a("div.ssp-player-large").each(function(){var e=a(this),p=e.data("player-instance-number"),r=e.data("player-waveform-progress-colour"),t=e.data("source-file");s[p]="",window.ssp_player[p]=WaveSurfer.create({container:"#waveform"+p,waveColor:"#444",progressColor:r,barWidth:3,barHeight:15,height:8,hideScrollbar:!0,skipLength:30,backend:"MediaElement"}),window.ssp_player[p].track=t,window.ssp_player[p].backend.peaks=[.0218,.0183,.0165,.0198,.2137,.2888,.2313,.15,.2542,.2538,.2358,.1195,.1591,.2599,.2742,.1447,.2328,.1878,.1988,.1645,.1218,.2005,.2828,.2051,.1664,.1181,.1621,.2966,.189,.246,.2445,.1621,.1618,.189,.2354,.1561,.1638,.2799,.0923,.1659,.1675,.1268,.0984,.0997,.1248,.1495,.1431,.1236,.1755,.1183,.1349,.1018,.1109,.1833,.1813,.1422,.0961,.1191,.0791,.0631,.0315,.0157,.0166,.0108],window.ssp_player[p].drawBuffer(),window.ssp_player[p].loaded=!1,window.ssp_player[p].on("ready",function(s){window.ssp_player[p].loaded||(window.ssp_player[p].loaded=!0,window.ssp_player[p].play()),a("#ssp_player_id_"+p+" #sspTotalDuration").text(window.ssp_player[p].getDuration().toString().toFormattedDuration()),a("#ssp_player_id_"+p+" #sspPlayedDuration").text(window.ssp_player[p].getCurrentTime().toString().toFormattedDuration())}),window.ssp_player[p].on("play",function(e){window.ssp_player[p].loaded||window.ssp_player[p].load(window.ssp_player[p].track,window.ssp_player[p].backend.peaks),a("#ssp_player_id_"+p+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-pause_icon"),a("#ssp_player_id_"+p+" #sspPlayedDuration").text(window.ssp_player[p].getCurrentTime().toString().toFormattedDuration()),s[p]=setInterval(function(){a("#ssp_player_id_"+p+" #sspPlayedDuration").text(window.ssp_player[p].getCurrentTime().toString().toFormattedDuration())},100)}),window.ssp_player[p].on("pause",function(e){a("#ssp_player_id_"+p+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-play_icon"),clearInterval(s[p])}),window.ssp_player[p].on("finish",function(s){a("#ssp_player_id_"+p+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-play_icon")}),a("#ssp_player_id_"+p+" #ssp-play-pause").on("click",function(a){window.ssp_player[p].playPause()}),a("#ssp_player_id_"+p+" #ssp-back-thirty").on("click",function(a){window.ssp_player[p].skipBackward()}),a("#ssp_player_id_"+p+" #ssp_playback_speed"+p).on("click",function(s){switch(a(s.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate")){case"1":a(s.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","1.5"),a(s.currentTarget).parent().find("[data-ssp-playback-rate]").text("1.5X"),window.ssp_player[p].setPlaybackRate(1.5);break;case"1.5":a(s.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","2"),a(s.currentTarget).parent().find("[data-ssp-playback-rate]").text("2X"),window.ssp_player[p].setPlaybackRate(2);break;case"2":a(s.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","1"),a(s.currentTarget).parent().find("[data-ssp-playback-rate]").text("1X"),window.ssp_player[p].setPlaybackRate(1)}})})}(jQuery)});